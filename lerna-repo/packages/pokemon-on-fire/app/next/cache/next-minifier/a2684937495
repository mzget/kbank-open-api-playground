{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{\"7yCI\":function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var o=n(a(\"q1tI\")),r=(0,n(a(\"8/g6\")).default)(o.default.createElement(\"path\",{d:\"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"}),\"ShoppingCart\");t.default=r},\"8/g6\":function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef(function(t,a){return r.default.createElement(i.default,(0,o.default)({ref:a},t),e)}));0;return a.muiName=i.default.muiName,a};var o=n(a(\"pVnL\")),r=n(a(\"q1tI\")),i=n(a(\"UJJ5\"))},\"9Jkg\":function(e,t,a){e.exports=a(\"oh+g\")},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UJJ5:function(e,t,a){\"use strict\";a.r(t);var n=a(\"wx14\"),o=a(\"Ff2n\"),r=a(\"q1tI\"),i=a.n(r),c=(a(\"17x9\"),a(\"iuhU\")),l=a(\"H2TA\"),s=a(\"mVKy\"),d=i.a.forwardRef(function(e,t){var a=e.children,r=e.classes,l=e.className,d=e.color,u=void 0===d?\"inherit\":d,p=e.component,m=void 0===p?\"svg\":p,f=e.fontSize,h=void 0===f?\"default\":f,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?\"0 0 24 24\":y,x=Object(o.a)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"fontSize\",\"htmlColor\",\"titleAccess\",\"viewBox\"]);return i.a.createElement(m,Object(n.a)({className:Object(c.a)(r.root,l,\"inherit\"!==u&&r[\"color\".concat(Object(s.a)(u))],\"default\"!==h&&r[\"fontSize\".concat(Object(s.a)(h))]),focusable:\"false\",viewBox:b,color:v,\"aria-hidden\":g?\"false\":\"true\",role:g?\"img\":\"presentation\",ref:t},x),a,g?i.a.createElement(\"title\",null,g):null)});d.muiName=\"SvgIcon\";var u=Object(l.a)(function(e){return{root:{userSelect:\"none\",width:\"1em\",height:\"1em\",display:\"inline-block\",fill:\"currentColor\",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create(\"fill\",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:\"inherit\"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:\"MuiSvgIcon\"})(d);a.d(t,\"default\",function(){return u})},ZuSV:function(e,t,a){\"use strict\";var n=a(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var o=n(a(\"q1tI\")),r=(0,n(a(\"8/g6\")).default)(o.default.createElement(\"path\",{d:\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"}),\"MoreVert\");t.default=r},eDWq:function(e,t,a){\"use strict\";a.r(t);var n=a(\"doui\"),o=a(\"q1tI\"),r=a.n(o),i=a(\"vOnD\"),c=a(\"8Kt/\"),l=a.n(c),s=a(\"R/WZ\");function d(e){return function(e){return e}(e)}var u=a(\"30+C\"),p=a(\"wx14\"),m=a(\"Ff2n\"),f=(a(\"17x9\"),a(\"iuhU\")),h=a(\"H2TA\"),v=a(\"ofer\"),g=r.a.forwardRef(function(e,t){var a=e.action,n=e.avatar,o=e.classes,i=e.className,c=e.component,l=void 0===c?\"div\":c,s=e.disableTypography,d=void 0!==s&&s,u=e.subheader,h=e.subheaderTypographyProps,g=e.title,y=e.titleTypographyProps,b=Object(m.a)(e,[\"action\",\"avatar\",\"classes\",\"className\",\"component\",\"disableTypography\",\"subheader\",\"subheaderTypographyProps\",\"title\",\"titleTypographyProps\"]),x=g;null==x||x.type===v.a||d||(x=r.a.createElement(v.a,Object(p.a)({variant:n?\"body2\":\"h5\",className:o.title,component:\"span\",display:\"block\"},y),x));var k=u;return null==k||k.type===v.a||d||(k=r.a.createElement(v.a,Object(p.a)({variant:n?\"body2\":\"body1\",className:o.subheader,color:\"textSecondary\",component:\"span\",display:\"block\"},h),k)),r.a.createElement(l,Object(p.a)({className:Object(f.a)(o.root,i),ref:t},b),n&&r.a.createElement(\"div\",{className:o.avatar},n),r.a.createElement(\"div\",{className:o.content},x,k),a&&r.a.createElement(\"div\",{className:o.action},a))}),y=Object(h.a)({root:{display:\"flex\",alignItems:\"center\",padding:16},avatar:{flex:\"0 0 auto\",marginRight:16},action:{flex:\"0 0 auto\",alignSelf:\"flex-start\",marginTop:-8,marginRight:-8},content:{flex:\"1 1 auto\"},title:{},subheader:{}},{name:\"MuiCardHeader\"})(g),b=a(\"Ie8z\"),x=a(\"oa/T\"),k=a(\"o4QW\"),j=a(\"ye/S\"),w=a(\"VD++\"),S=a(\"mVKy\"),O=r.a.forwardRef(function(e,t){var a=e.edge,n=void 0!==a&&a,o=e.children,i=e.classes,c=e.className,l=e.color,s=void 0===l?\"default\":l,d=e.disabled,u=void 0!==d&&d,h=e.disableFocusRipple,v=void 0!==h&&h,g=e.size,y=void 0===g?\"medium\":g,b=Object(m.a)(e,[\"edge\",\"children\",\"classes\",\"className\",\"color\",\"disabled\",\"disableFocusRipple\",\"size\"]);return r.a.createElement(w.a,Object(p.a)({className:Object(f.a)(i.root,c,\"default\"!==s&&i[\"color\".concat(Object(S.a)(s))],u&&i.disabled,{small:i[\"size\".concat(Object(S.a)(y))]}[y],{start:i.edgeStart,end:i.edgeEnd}[n]),centerRipple:!0,focusRipple:!v,disabled:u,ref:t},b),r.a.createElement(\"span\",{className:i.label},o))}),C=Object(h.a)(function(e){return{root:{textAlign:\"center\",flex:\"0 0 auto\",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:\"50%\",overflow:\"visible\",color:e.palette.action.active,transition:e.transitions.create(\"background-color\",{duration:e.transitions.duration.shortest}),\"&:hover\":{backgroundColor:Object(j.b)(e.palette.action.active,e.palette.action.hoverOpacity),\"@media (hover: none)\":{backgroundColor:\"transparent\"}},\"&$disabled\":{backgroundColor:\"transparent\",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,\"$sizeSmall&\":{marginLeft:-3}},edgeEnd:{marginRight:-12,\"$sizeSmall&\":{marginRight:-3}},colorInherit:{color:\"inherit\"},colorPrimary:{color:e.palette.primary.main,\"&:hover\":{backgroundColor:Object(j.b)(e.palette.primary.main,e.palette.action.hoverOpacity),\"@media (hover: none)\":{backgroundColor:\"transparent\"}}},colorSecondary:{color:e.palette.secondary.main,\"&:hover\":{backgroundColor:Object(j.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),\"@media (hover: none)\":{backgroundColor:\"transparent\"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:\"100%\",display:\"flex\",alignItems:\"inherit\",justifyContent:\"inherit\"}}},{name:\"MuiIconButton\"})(O),N=a(\"ZuSV\"),E=a.n(N),T=a(\"7yCI\"),P=a.n(T),z=a(\"Z3vd\"),R=a(\"4OZe\"),_=a(\"ln6h\"),I=a.n(_),A=a(\"9Jkg\"),M=a.n(A),D=a(\"eVuF\"),q=a.n(D);function B(e,t,a,n,o,r,i){try{var c=e[r](i),l=c.value}catch(s){return void a(s)}c.done?t(l):q.a.resolve(l).then(n,o)}var F=r.a.createElement;function J(e){var t=e.attrs,a=e.formAction,n=e.onFinish,o=e.onError,i=e.onProcess,c=e.debug,l=void 0!==c&&c;function s(e){return d.apply(this,arguments)}function d(){var e;return e=I.a.mark(function e(t){var r,c,l,s,d,u,p,m,f;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new FormData(t.target),c=r.get(\"token\"),l=r.get(\"paymentMethods\"),s=r.get(\"saveCard\"),d={token:c,paymentMethods:l,saveCard:s},u=a,e.next=9,fetch(u,{method:\"POST\",body:M()(d),headers:{\"Content-Type\":\"application/json\"}});case 9:if(!(p=e.sent).ok){e.next=17;break}return e.next=13,p.json();case 13:m=e.sent,n&&n(m),e.next=21;break;case 17:return e.next=19,p.json();case 19:f=e.sent,o&&o(M()(f));case 21:i&&i();case 22:case\"end\":return e.stop()}},e)}),(d=function(){var t=this,a=arguments;return new q.a(function(n,o){var r=e.apply(t,a);function i(e){B(r,n,o,i,c,\"next\",e)}function c(e){B(r,n,o,i,c,\"throw\",e)}i(void 0)})}).apply(this,arguments)}return r.a.useEffect(function(){var e=document.createElement(\"script\");e.src=t.scriptUrl,e.setAttribute(\"data-apikey\",t.apiKey),e.setAttribute(\"data-amount\",t.amount),e.setAttribute(\"data-currency\",t.currency),e.setAttribute(\"data-payment-methods\",t.paymentMethods),e.setAttribute(\"data-name\",t.shopName),e.type=\"text/javascript\",e.async=!0,e.onload=function(e){a&&(l&&console.log(\"payment-container create new\"),window.KPayment.create())};var a=document.getElementById(\"checkout-form\");return a&&(a.appendChild(e),a.addEventListener(\"submit\",s)),function(){if(a){a.removeChild(e),a.removeEventListener(\"submit\",s);var t=document.querySelector(\".payment-container\");t&&document.body.removeChild(t)}}},[]),F(\"form\",{id:\"checkout-form\"})}var H=r.a.createElement,L=Object(s.a)(function(e){return d({card:{width:350,maxWidth:440},media:{height:0,paddingTop:\"56.25%\"},button:{maxWidth:180}})});function V(e){var t=L(void 0),a=Object(R.b)(),o=Object(n.a)(a,1)[0].pokemon,r=e.onProcess,i=e.onFinish;return H(u.a,{className:t.card},H(y,{avatar:H(P.a,{height:64}),action:H(C,{\"aria-label\":\"settings\"},H(E.a,null)),title:\"The pokemon shop\",subheader:(new Date).toDateString()}),H(b.a,{className:t.media,image:\"/pokemons/\".concat(o.src),title:o.name}),H(x.a,null,H(v.a,{gutterBottom:!0,variant:\"subtitle1\"},\"Price: \".concat(o.price,\" THB\"))),H(k.a,{disableSpacing:!0},H(K,null,H(W,null,H(\"p\",null,\"Credit/Debit Card\"),H(J,{formAction:\"/api/checkout\",onFinish:i,onProcess:r,debug:!0,attrs:{scriptUrl:\"https://uat-kpaymentgateway.new-kpgw.com/ui/v2/kpayment.min.js\",apiKey:\"pkey_prod_5BpmBr5LpqG84jYnDLPQe3Zv1OuhdN5dg\",amount:o.price,currency:\"TBH\",paymentMethods:\"card\",shopName:\"The Pokemon Shop\"}})),H(W,null,H(\"p\",null,\"QR Payment\"),H(z.a,{variant:\"contained\",color:\"secondary\",disabled:!0,className:t.button},\"Not yet ready\")))))}var W=i.a.div.withConfig({displayName:\"CheckoutCard__PayActionDiv\",componentId:\"sc-1xxj351-0\"})([\"display:flex;flex-direction:row;max-height:50px;width:100%;justify-content:space-between;margin:4px;\"]),K=Object(i.a)(k.a).withConfig({displayName:\"CheckoutCard__StyledCardActions\",componentId:\"sc-1xxj351-1\"})([\"&&{width:100%;display:flex;flex-direction:column;}\"]),U=a(\"nOHt\"),Z=r.a.createElement,Q=Object(s.a)(function(e){return d({card:{width:350,maxWidth:440},media:{height:0,paddingTop:\"56.25%\"},button:{maxWidth:180}})});function $(){var e=Q(void 0),t=Object(R.b)(),a=Object(n.a)(t,1)[0],o=Object(U.useRouter)(),i=a.pokemon,c=r.a.useCallback(function(){o.replace(\"/\")},[]);return Z(u.a,{className:e.card},Z(y,{avatar:Z(\"img\",{src:\"/pokeball.png\",width:\"48px\"}),action:Z(C,{\"aria-label\":\"settings\"},Z(E.a,null)),title:\"The pokemon shop\",subheader:(new Date).toDateString()}),Z(b.a,{className:e.media,image:\"/pokemons/\".concat(i.src),title:i.name}),Z(x.a,null,Z(v.a,{gutterBottom:!0,variant:\"subtitle1\"},\"Yeah ! \".concat(i.name,\" is yours\"))),Z(k.a,{disableSpacing:!0},Z(z.a,{variant:\"contained\",color:\"secondary\",className:e.button,onClick:c},\"Home\")))}var X,Y=r.a.createElement;function G(e){var t=r.a.useState(X.none),a=Object(n.a)(t,2),o=a[0],i=a[1],c=r.a.useCallback(function(){i(X.processing)},[]),l=r.a.useCallback(function(){i(X.finished)},[]);switch(o){case X.none:return Y(V,{onProcess:c,onFinish:l});case X.processing:return Y(te,null,Y(\"img\",{src:\"/pokeball.png\"}),Y(\"p\",null,\"Payment Processing..., Plase wait\"));case X.finished:return Y($,null)}}!function(e){e[e.none=0]=\"none\",e[e.processing=1]=\"processing\",e[e.finished=2]=\"finished\"}(X||(X={}));t.default=function(e){return r.a.useEffect(function(){console.log(\"Checkout Page\")},[]),Y(r.a.Fragment,null,Y(l.a,null,Y(\"title\",null,\"Checkout\"),Y(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),Y(ee,{className:\"StyledShop\"},Y(G,null)))};var ee=i.a.div.withConfig({displayName:\"checkout__StyledShop\",componentId:\"sc-6j7haa-0\"})([\"display:flex;justify-content:center;height:100%;\"]),te=i.a.div.withConfig({displayName:\"checkout__StyledProcessing\",componentId:\"sc-6j7haa-1\"})([\"display:flex;justify-content:center;flex-direction:column;height:100%;@keyframes App-logo-spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}img{width:48px;align-self:center;animation:App-logo-spin infinite 10s linear;}\"])},iEj2:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/checkout\",function(){return a(\"eDWq\")}])},\"oh+g\":function(e,t,a){var n=a(\"WEpk\"),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},pVnL:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a}},[[\"iEj2\",1,0]]]);"}